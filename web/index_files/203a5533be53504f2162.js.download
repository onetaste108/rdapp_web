(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{170:function(t,e,o){"use strict";var n={methods:{dummyContent:function(template){return{1:{home:{file:"/1.jpg",tagline:"Multimedia &design",bg_image:"",bg_video:"/1.mp4",showreel:{label:"Showreel",file:"1.mp4",vimeo:"https://player.vimeo.com/video/348583497"}},works:[{uri:"project",title:"Karma",desc:"Our work for legendary basketball team Chicago Bulls, NBA",category:"Video mapping",bg_image:"/3.jpg",bg_video:""},{uri:"project",title:"Seasons",desc:"Our work for legendary basketball team Chicago Bulls, NBA",category:"Video mapping",bg_image:"",bg_video:"/1.mp4"},{uri:"project",title:"Chicago Bulls Halftime Show",desc:"Our work for legendary basketball team Chicago Bulls, NBA",category:"Video mapping",bg_image:"/4.jpg",bg_video:""}]},2:{},3:{works:[{title:"Project",categories:["Motion design","Show"],files:["1.mp4","2.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["1.jpg","3.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["2.jpg","1.mp4"]},{title:"Project",categories:["Motion design","Show"],files:["1.mp4","2.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["1.jpg","3.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["2.jpg","1.mp4"]},{title:"Project",categories:["Motion design","Show"],files:["1.mp4","2.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["1.mp4","2.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["1.mp4","2.jpg"]},{title:"Project",categories:["Motion design","Show"],files:["1.mp4","2.jpg"]}]},4:{},5:{pagetitle:"Project title","background-color":"#222233",theme:"dark",categories:[{title:"Motion design"},{title:"Art projects"}],blocks:[{type:"block_1",date:"2019",files:["1.mp4","2.jpg"],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{type:"block_2",files:["1.jpg"],desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",slider:[{title:"A1",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",files:["1.jpg"]},{title:"B2",desc:"sed do eiusmod tempor incididunt ut labore et dolore magna.",files:["2.jpg"]},{title:"C3",desc:"Ut enim ad minim veniam, quis nostrud exercitation.",files:["3.jpg"]}]},{type:"block_3",vimeo:"https://player.vimeo.com/video/348583497"},{type:"block_4",items:[{files:["1.jpg"],title:"A1",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{files:["2.jpg"],title:"B1",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}]},{type:"block_5",credits:[{name:"Ivan Nefedkin1",position:"Creative director"},{name:"Ivan Nefedkin2",position:"Creative director"},{name:"Ivan Nefedkin3",position:"Creative director"},{name:"Ivan Nefedkin4",position:"Creative director"},{name:"Ivan Nefedkin5",position:"Creative director"},{name:"Ivan Nefedkin6",position:"Creative director"},{name:"Ivan Nefedkin7",position:"Creative director"}]},{type:"block_6",files:["1.mp4"],title:"Ping Pong",categories:[{title:"Show"},{title:"Art"}],uri:"/project"}]},resources:{menu:[{uri:"about",title:"About",id:2},{uri:"works",title:"Works",id:3},{uri:"contacts",title:"Сontacts",id:4}],resources:[{id:1,tpl:1,uri:"index"},{id:2,tpl:2,uri:"about"},{id:3,tpl:3,uri:"works"},{id:4,tpl:4,uri:"contacts"},{id:5,tpl:5,uri:"project"}],socials:[{title:"vi",uri:"#"},{title:"in",uri:"#"},{title:"fb",uri:"#"},{title:"tw",uri:"#"}],contacts:[{city:"Moscow",email:"hello@radugadesign.com",phone:"+7 495 678 89 99"},{city:"Miami",email:"usa@radugadesign.com",phone:"+3 456 78 999 80"},{city:"Paris",email:"france@radugadesign.com",phone:"+4 566 788990 0"},{city:"Shanghai",email:"china@radugadesign.com",phone:"+3 678 88 990"}]},categories:[{id:1,title:"Show"},{id:2,title:"Motion design"},{id:3,title:"Art installations"},{id:4,title:"Video mapping"},{id:5,title:"Graphic design"},{id:6,title:"Augmented reality"},{id:7,title:"Generative design"}]}[template]},getResources:function(t){var e=this.$store.state.apiUrl+"/resources?lang="+this.$store.state.lang;this.$axios.get(e,{progress:!1}).then(function(e){200===e.status&&200===e.status&&"function"==typeof t&&t(e.data)}).catch(function(t){console.log(t)})},getResource:function(t,template,e){if(0!==t){var o=this.$store.state.apiUrl+this.$store.state.routes[template]+t;console.log(o),this.$axios.get(o,{progress:!1}).then(function(t){200===t.status?200===t.status&&"function"==typeof e&&e(t.data):console.log(t)}).catch(function(t){console.log(t)})}},getWorksData:function(t,e,o){var n=this.$store.state.apiUrl+"/works/"+t;this.$axios.get(n,{params:e}).then(function(t){200===t.status?200===t.status&&"function"==typeof o&&o(t.data):console.log(t)}).catch(function(t){console.log(t)})}}},r=o(37),component=Object(r.a)(n,void 0,void 0,!1,null,null,null);e.a=component.exports},177:function(t,e,o){},178:function(t,e,o){},179:function(t,e,o){},180:function(t,e,o){},181:function(t,e,o){},182:function(t,e,o){},183:function(t,e,o){},184:function(t,e,o){},185:function(t,e,o){},186:function(t,e,o){},187:function(t,e,o){},188:function(t,e,o){},189:function(t,e,o){},190:function(t,e,o){},191:function(t,e,o){},192:function(t,e,o){},193:function(t,e,o){},194:function(t,e,o){},195:function(t,e,o){},197:function(t,e,o){"use strict";o(169);var n=o(199),r=o(196),l=(o(205),{props:{on:Boolean,theme:String,fixed:{type:Boolean,default:!1}},data:function(){return{shift:0}},computed:{color:function(){return"dark"===this.$store.state.theme?"#fff":"#000"},classes:function(){return{sound_off:!this.$store.state.soundOn,sound_fixed:this.fixed}}},methods:{toggleSound:function(){this.$store.commit("updateProp",{soundOn:!this.$store.state.soundOn})}}}),c=(o(207),o(37)),d=Object(c.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sound",class:this.classes,on:{click:this.toggleSound}},[e("svg",{attrs:{viewBox:"0 0 23 18",xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[e("path",{attrs:{d:"M5 15.38V7.46c.13730338-3.47165609 3.00684968-6.2156872 6.5-6.2156872 3.4931503 0 6.3626966 2.74403111 6.5 6.2156872v7.88",stroke:this.color,"stroke-width":"2"}}),e("path",{attrs:{d:"M6 17.4800997l-1.9839579-.000012c-1.10238004.0026563-2.01656171-.4334016-2.79700184-1.2119657C.43860013 15.4895579-.0000032 14.4324709 0 13.3300877v-.18c-.0000032-1.1023833.43860013-2.15947031 1.21904026-2.93803438.72101747-.71928426 1.67905627-1.14623356 2.69002681-1.20498483C3.9923862 9.0022265 5.91606486 8.99988541 6 9.00005529v8.48004441zM17 17.4800997l1.9769079-.000012c1.10238.0026563 2.0165617-.4334016 2.7970018-1.2119657.7804402-.7785641 1.2190435-1.8356511 1.2190403-2.9380343v-.18c.0000032-1.1023833-.4386001-2.15947031-1.2190403-2.93803438-.7210174-.71928426-1.6790562-1.14623356-2.6900268-1.20498483C19.0005638 9.0022265 17.0839351 8.99988541 17 9.00007559v8.48002411z",fill:this.color,"fill-rule":"nonzero"}})])])])},[],!1,null,null,null).exports,h=o(208),v=o(228),m={props:{media:Array,active:Number,speed:Number,isSlider:Boolean,webglId:String},data:function(){return{bgCoverSize:{width:0,height:0,top:0,left:0}}},watch:{active:function(t,e){this.webglChanger.changeTo(e,t)}},mounted:function(){var t=this;this.calcBgCoverSize(),this.$nextTick(function(){return t.init()})},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)},computed:{morphingAngleModifier:function(){return this.isSlider?1:3}},methods:{ImageChange:function(t){function e(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i]}var o,n,r,l=t.el,c=t.media,d=t.startIndex,m=e(t.intensity1,t.intensity,1),f=e(t.intensity2,t.intensity,1),_=e(t.angle,Math.PI/4*t.morphingAngleModifier),k=e(t.angle1,_),w=e(t.angle2,3*-_),y=e(t.speedIn,t.speed,1.6),C=e(t.speedOut,t.speed,1.2),j=e(t.easing,v.b.easeOut),x=0,S=null,D=t.dispImage,$=null,I=null,P=null,V=new h.h,O=new h.d(l.offsetWidth/-2,l.offsetWidth/2,l.offsetHeight/2,l.offsetHeight/-2,1,1e3);O.position.z=1;var T=new h.m({antialias:!1});T.setPixelRatio(window.devicePixelRatio),T.setClearColor(16777215,0),T.setSize(l.offsetWidth,l.offsetHeight),l.appendChild(T.domElement);var B=function(){I&&S&&0===x&&(I===S.uniforms.texture1.value||I===S.uniforms.texture2.value)&&($(),I.needsUpdate=!0),T.render(V,O)},L=new h.j;L.crossOrigin="",o=(r=c.map(function(t,i){var e=null;if(t.video){var video=document.createElement("video");return video.src=t.video,video.crossOrigin="anonymous",video.muted=!0,video.loop=!0,video.setAttribute("loop",!0),video.setAttribute("muted",!0),video.setAttribute("playsinline",!0),video.setAttribute("autoplay",!0),video.play(),(e=new h.l(video)).minFilter=h.b,e.magFilter=h.b,e.format=h.f,e}return t.img?((e=L.load(t.img,B)).magFilter=h.b,e.minFilter=h.b,e):((P=document.createElement("canvas")).width=1024,P.height=1024,$=window.run_raduga_shader(P),(I=new h.a(P)).minFilter=h.b,I)}))[d],n=r[d];var M=L.load(D,B);M.wrapS=M.wrapT=h.g,S=new h.i({uniforms:{intensity1:{type:"f",value:m},intensity2:{type:"f",value:f},dispFactor:{type:"f",value:0},angle1:{type:"f",value:w},angle2:{type:"f",value:k},texture1:{type:"t",value:o},texture2:{type:"t",value:n},disp:{type:"t",value:M}},vertexShader:"varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",fragmentShader:"varying vec2 vUv;uniform float dispFactor;uniform sampler2D disp;uniform sampler2D texture1;uniform sampler2D texture2;uniform float angle1;uniform float angle2;uniform float intensity1;uniform float intensity2;mat2 getRotM(float angle) {float s = sin(angle);  float c = cos(angle);  return mat2(c, -s, s, c);}void main() {vec4 disp = texture2D(disp, vUv);  vec2 dispVec = vec2(disp.g, disp.r);  vec2 distortedPosition1 = vUv + getRotM(angle1) * dispVec * intensity1 * dispFactor;  vec2 distortedPosition2 = vUv + getRotM(angle2) * dispVec * intensity2 * (1.0 - dispFactor);  vec4 _texture1 = texture2D(texture1, distortedPosition1);  vec4 _texture2 = texture2D(texture2, distortedPosition2);  gl_FragColor = mix(_texture1, _texture2, dispFactor);}",transparent:!0,opacity:1});var R,E=new h.e(l.offsetWidth,l.offsetHeight,1),F=new h.c(E,S);V.add(F);function W(t){var e;e=t?0:y,R=v.c.to(S.uniforms.dispFactor,e,{value:1,ease:j,onUpdate:B,onComplete:B})}function N(t){var e;e=t?0:C,R=v.c.to(S.uniforms.dispFactor,e,{value:0,ease:j,onUpdate:B,onComplete:B})}this.next=W,this.previous=N,this.changeTo=function(t,e,o){var n=e<t;x=e;var progress,l=function(){n?(S.uniforms.texture1={type:"t",value:r[t]},S.uniforms.texture2={type:"t",value:r[e]},S.uniforms.dispFactor={type:"f",value:0},W(o)):(S.uniforms.texture1={type:"t",value:r[e]},S.uniforms.texture2={type:"t",value:r[t]},S.uniforms.dispFactor={type:"f",value:1},N(o))};void 0!==R&&(progress=R.progress()),void 0!==progress&&progress<.9?R=v.c.to(S.uniforms.dispFactor,.1,{value:R.vars.value,ease:v.a.easeNone,onUpdate:B,onComplete:l}):l()},this.tick=function(){B()},this.el=t.el,this.resizeHandler=function(){var t=0,e=setInterval(function(){var o=T.getSize(new h.k(0,0));o.x===l.offsetWidth&&o.y===l.offsetHeight||T.setSize(l.offsetWidth,l.offsetHeight),++t>40&&clearInterval(e)},50)}},init:function(t){var e=this;if(void 0!==this.webglChanger&&!t)return!1;if(window.webGLInstances&&window.webGLInstances[this.webglId])this.webglChanger=window.webGLInstances[this.webglId],this.$el.childNodes[0].remove(),this.$el.appendChild(this.webglChanger.el),this.webglChanger.changeTo(0,0,!0),this.webglChanger.resizeHandler();else{var o=this.$el.firstChild;if(!o)return!1;var n=this.ImageChange;this.webglChanger=new n({el:o,media:this.media,dispImage:"/upload/displacement.png",bgImage:void 0!==this.$store.state.pageData.home?this.$store.state.pageData.home.shader:"",startIndex:0,speedIn:this.speed,speedOut:this.speed,morphingAngleModifier:this.morphingAngleModifier,store:this.$store}),window.webGLInstances||(window.webGLInstances={}),window.webGLInstances[this.webglId]=this.webglChanger}this.resizeHandler=function(t){setTimeout(function(){e.calcBgCoverSize(),void 0!==e.webglChanger&&e.webglChanger.resizeHandler()},1e3)},setTimeout(function(){e.clockGenerator()},1e3),window.addEventListener("resize",this.resizeHandler)},calcBgCoverSize:function(){var t,e,o;this.isSlider?(t=this.$el.parentElement.clientHeight,e=this.$el.parentElement.clientWidth,o=3.09):(t=window.innerHeight,e=window.innerWidth,o=16/9);var n,r,l,c,d=o-e/t;d>=0&&(n=t,l=0,c=((r=t*o)-e)/2),d<0&&(r=e,l=((n=1*e/o)-t)/2,c=0),this.bgCoverSize={height:n+"px",width:r+"px",top:-l+"px",left:-c+"px"}},clockGenerator:function(){this.animationFrameId=requestAnimationFrame(this.clockGenerator),this.webglChanger&&this.webglChanger.tick&&this.webglChanger.tick()}}},f=(o(210),Object(c.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dynamic_bg",style:this.bgCoverSize},[e("div",{staticClass:"webgl-container"})])},[],!1,null,null,null).exports),_={name:"index",transition:"page",props:{pageData:{type:Object,default:function(){return{}}}},components:{DynamicBackground:f,Sound:d},data:function(){return{showShowReel:!1,allWorks:{en:"All works",ru:"Все работы"},activeSlide:0,footer:{},lang:"en",speed:1.3,blocked:!1,footerOffset:0,player:null}},watch:{showShowReel:function(t){t>0?this.$store.commit("updateProp",{soundPaused:!0}):(this.$store.commit("updateProp",{soundPaused:!1}),void 0!==this.player&&this.player.pause())},activeSlide:function(t){this.playSound(),t>0?this.$store.commit("updateProp",{soundPaused:!0}):this.$store.commit("updateProp",{soundPaused:!1})},pageData:function(t){this.loadPage()},showFooter:function(t){var e;if(void 0!==this.$el){var footer=document.getElementsByClassName("footer")[0];if(void 0===footer)return;e=footer.getBoundingClientRect()}this.footerOffset=t&&e?e.height:0},showreelVimeo:{immediate:!0,handler:function(t){var e=this;t&&!this.player&&this.$nextTick(function(){var iframe=e.$el.querySelector("iframe");e.player=new r.a(iframe)})}}},mounted:function(){this.loadPage()},computed:{turnMe:function(){return"en"===this.$store.state.lang?"Turn your device":"Поверните устройство вертикально"},media:function(){return void 0===this.pageData.works?[]:[{img:this.pageData.home.bg_image,video:this.pageData.home.bg_video}].concat(Object(n.a)(this.pageData.works.map(function(p){return{img:p.bg_image,video:p.bg_video}})))},activeBg:function(){if(void 0===this.pageData.works)return 0;var t=this.activeSlide;return t>this.pageData.works.length&&(t=this.pageData.works.length),t},showFooter:function(){return this.activeSlide!==this.activeBg},allWorksUrl:function(){var link="/",t=this.$store.state.resources.filter(function(t){return 3===t.tpl})[0];return void 0!==t&&(link=t.uri),link},showreelVideo:function(){var t=this.pageData.home.showreel;return!this.showreelVimeo&&(void 0!==t.file&&t.file.length>0)},showreelVimeo:function(){if(void 0===this.pageData.home)return!1;var t=this.pageData.home.showreel;return void 0!==t.vimeo&&t.vimeo.length>0}},methods:{checkTurnDevice:function(){window.innerHeight<480?this.turnDevice=!0:this.turnDevice=!1},playSound:function(){if(this.$store.state.soundOn){var t=document.getElementById("slide_audio");t.play(),t.currentTime=0}},loadPage:function(){this.$store.commit("updateProp",{theme:"dark"}),console.log("load page")},slideClass:function(i){return i===this.activeSlide?"slide_active":i<this.activeSlide?"slide_prev":i>this.activeSlide?"slide_next":void 0},blockSlideChange:function(){var t=this;this.blocked=!0,setTimeout(function(){t.blocked=!1},1e3*this.speed)},nextSlide:function(){!this.blocked&&this.pageData.works.length+1>this.activeSlide&&(this.blockSlideChange(),this.activeSlide++)},prevSlide:function(){!this.blocked&&this.activeSlide>0&&(this.blockSlideChange(),this.activeSlide--)},mouseWheel:function(t){t.stopPropagation(),this.showShowReel||(t.deltaY>0&&this.nextSlide(),t.deltaY<0&&this.prevSlide())},touchstart:function(t){this.touchStart=t.touches[0].clientY,this.touchEventing=!0},touchend:function(t){var e=t.changedTouches[0].clientY-this.touchStart;this.touchEventing=!1,this.touchShift=0,e>100&&this.prevSlide(),e<-100&&this.nextSlide()},touchmove:function(t){var e=t.changedTouches[0].clientY-this.touchStart;this.touchShift=e/10}}},k=(o(211),Object(c.a)(_,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page page_index",on:{wheel:function(e){return e.preventDefault(),t.mouseWheel(e)},touchstart:function(e){return t.touchstart(e)},touchend:function(e){return t.touchend(e)},touchmove:function(e){return e.preventDefault(),t.touchmove(e)}}},[o("audio",{attrs:{id:"slide_audio"}},[null!=t.$store.state.sounds?o("source",{attrs:{src:t.$store.state.sounds.slide}}):t._e()]),t.pageData.home?o("DynamicBackground",{attrs:{media:t.media,active:t.activeBg,speed:t.speed,isSlider:!1,webglId:"0"}}):t._e(),o("div",{staticClass:"slides"},[null!=t.pageData.home?o("div",{staticClass:"slide",class:t.slideClass(0)},[o("div",{staticClass:"slide__text"},[o("div",{staticClass:"slide__title tagline"},[t._v(t._s(t.pageData.home.tagline))]),o("div",{staticClass:"slide__desc"},[o("div",{staticClass:"showreel",on:{click:function(e){t.showShowReel=!0}}},[o("div",{staticClass:"plus"}),o("div",{staticClass:"showreel__label"},[t._v(t._s(t.pageData.home.showreel.label))])])])])]):t._e(),t._l(t.pageData.works,function(e,i){return t.pageData.works.length>0?o("div",{staticClass:"slide",class:t.slideClass(i+1)},[o("nuxt-link",{staticClass:"slide__text",attrs:{to:e.uri}},[o("div",{staticClass:"slide__category"},[t._v(t._s(e.category[0].title))]),o("div",{staticClass:"slide__title"},[t._v(t._s(e.title))]),o("div",{staticClass:"slide__desc"},[t._v(t._s(e.desc)),o("div",{staticClass:"plus"})])])],1):t._e()}),null!=t.pageData.works?o("div",{staticClass:"slide slide_last",class:t.slideClass(t.pageData.works.length+1)},[o("nuxt-link",{staticClass:"slide__text",attrs:{to:t.allWorksUrl}},[o("div",{staticClass:"slide__title"},[o("div",{staticClass:"plus"}),t._v(t._s(t.allWorks[t.$store.state.lang]))])])],1):t._e(),null!=t.pageData.works?o("div",{staticClass:"bullets",class:{bullets_hid:0==t.activeSlide||t.activeSlide==t.pageData.works.length+1}},t._l(t.pageData.works,function(e,i){return o("div",{staticClass:"bullet",class:{bullet_active:t.activeSlide==i+1},on:{click:function(e){t.activeSlide=i+1}}})}),0):t._e()],2),o("div",{staticClass:"footer",class:{footer_hid:!t.showFooter}},[t.$store.state.isDesktop?o("Sound"):t._e(),o("div",{staticClass:"footer__socials"},t._l(t.$store.state.socials,function(e){return o("a",{staticClass:"footer__socials-item",attrs:{href:e.uri,target:"blank"}},[t._v(t._s(e.title))])}),0),o("div",{staticClass:"footer__contacts"},t._l(t.$store.state.contacts,function(e){return o("div",{staticClass:"footer__contacts-item"},[t._v(t._s(e.city)),o("br"),o("a",{attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.email))]),o("br"),o("a",{attrs:{href:"tel:"+e.phone}},[t._v(t._s(e.phone))])])}),0)],1),null!=t.pageData.home?o("div",{staticClass:"reel",class:{reel_active:t.showShowReel},on:{click:function(e){t.showShowReel=!1}}},[o("div",{staticClass:"reel__close",on:{click:function(e){t.showShowReel=!1}}}),o("div",{staticClass:"reel__inner",on:{click:function(t){t.stopPropagation()}}},[t.showreelVimeo?o("div",{staticClass:"embed-container"},[o("iframe",{attrs:{src:"https://player.vimeo.com/video/"+t.pageData.home.showreel.vimeo+"?embedparameter=value",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]):t._e()])]):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.showShowReel,expression:"!showShowReel"}],staticClass:"turn-device"},[o("div",{staticClass:"turn-device__content"},[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"47.99",height:"47.95"}},[o("defs",[o("style",[t._v(".a{fill:#fff}")])]),o("path",{staticClass:"a",attrs:{d:"M40.65 24.88L21.48 5.71a4.19 4.19 0 0 0-5.92 0l-9.82 9.82a4.19 4.19 0 0 0 0 5.92l19.17 19.16 1.61 1.62a4.2 4.2 0 0 0 5.92 0l9.82-9.82a4.18 4.18 0 0 0 0-5.92zM8.57 18.62a.21.21 0 0 1 0-.26l9.82-9.82a.19.19 0 0 1 .26 0L37.82 27.7a.2.2 0 0 1 0 .27L28 37.79a.19.19 0 0 1-.26 0zM36.51 4.14l2-1.42A1.5 1.5 0 0 0 36.74.28l-5 3.61A1.5 1.5 0 0 0 31.37 6L35 11a1.48 1.48 0 0 0 1.22.62 1.49 1.49 0 0 0 1.21-2.37l-1.57-2.2A12.19 12.19 0 0 1 45 18.84a1.5 1.5 0 0 0 3 0 15.2 15.2 0 0 0-11.49-14.7zM13 36.94a1.5 1.5 0 0 0-2.44 1.75l1.58 2.2A12.19 12.19 0 0 1 3 29.11a1.5 1.5 0 0 0-3 0 15.18 15.18 0 0 0 11.48 14.7l-2 1.42a1.49 1.49 0 0 0-.35 2.09 1.51 1.51 0 0 0 2.1.35l5-3.61a1.49 1.49 0 0 0 .61-1 1.53 1.53 0 0 0-.22-1.06z"}})]),t._v(" "+t._s(t.turnMe))])])],1)},[],!1,null,null,null).exports),w={props:{offset:{type:Number,default:function(){return 150}}},watch:{"$store.state.scrollPos":{handler:function(){this.$nextTick(function(){this.checkSelfPosition()})},immediate:!0}},data:function(){return{hid:!0}},computed:{inViewportClass:function(){return this.hid?"in-viewport_hid":""}},methods:{checkSelfPosition:function(){var t=window.innerHeight;this.$el.getBoundingClientRect().top<t-this.offset&&(this.hid=!1)}}},y=(o(212),{mixins:[Object(c.a)(w,void 0,void 0,!1,null,null,null).exports],data:function(){return{}}}),C=Object(c.a)(y,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"in-viewport",class:this.inViewportClass},[this._t("default")],2)},[],!1,null,null,null).exports,j={data:function(){return{}},components:{InViewportSlot:C}},x=Object(c.a)(j,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer footer_inner"},[o("InViewportSlot",{attrs:{offset:0}},[o("div",{staticClass:"footer__contacts"},t._l(t.$store.state.contacts,function(e){return o("div",{staticClass:"footer__contacts-item"},[t._v(t._s(e.city)),o("br"),o("a",{attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.email))]),o("br"),o("a",{attrs:{href:"tel:"+e.phone}},[t._v(t._s(e.phone))])])}),0)])],1)},[],!1,null,null,null).exports,S={name:"about",transition:"page",components:{Footer:x,InViewportSlot:C},props:{page:Number,pageData:{type:Object,default:function(){return{}}}},data:function(){return{awardsLimit:7,linksLimit:7,take:7,selectedCategory:-1,uiRef:{clients:{en:"Clients",ru:"Клиенты"},sideProjects:{en:"Side projects",ru:"Собственные проекты"}}}},mounted:function(){this.$store.commit("updateProp",{theme:"light"})},methods:{onScroll:function(t){this.$store.commit("updateProp",{scrollPos:t.target.scrollTop})},normUrl:function(t){return 0!==t.length&&t},clientLink:function(t){if(1===t.count){var link="/",e=this.$store.state.resources.filter(function(e){return e.id===t.work_id})[0];return void 0!==e&&(link=e.uri),link}return t.count>1?this.allWorksUrl+"?client_id="+t.client_id:""},selectCat:function(i){this.selectedCategory!==i?this.selectedCategory=i:this.selectedCategory=-1}},computed:{viewMore:function(){return"ru"===this.$store.state.lang?"Показать еще":"View more"},allWorksUrl:function(){var link="/",t=this.$store.state.resources.filter(function(t){return 3===t.tpl})[0];return void 0!==t&&(link=t.uri),link},awards:function(){return this.pageData.blocks.awards.list.slice(0,this.awardsLimit)},links:function(){return this.pageData.blocks.links.list.slice(0,this.linksLimit)}}},D=(o(213),Object(c.a)(S,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page page_about",on:{scroll:t.onScroll}},[null!=t.pageData.blocks?o("div",{staticClass:"about"},[o("div",{staticClass:"page__title about__title"},[t._v(t._s(t.pageData.pagetitle))]),null!=t.pageData.blocks.company?o("div",{staticClass:"company"},[o("div",{staticClass:"company__img",style:{"background-image":"url("+t.pageData.blocks.company.file+")"}}),o("InViewportSlot",[o("div",{staticClass:"company__year"},[t._v(t._s(t.pageData.blocks.company.year))])]),o("InViewportSlot",[o("div",{staticClass:"company__text",domProps:{innerHTML:t._s(t.pageData.blocks.company.text)}})]),o("InViewportSlot"),o("div",{staticClass:"team"},[o("div",{staticClass:"team__desc"},[t._v(t._s(t.pageData.blocks.team.desc))]),o("div",{staticClass:"team__img",style:{"background-image":"url("+t.pageData.blocks.team.file+")"}})])],1):t._e(),o("InViewportSlot",[o("div",{staticClass:"awards"},[o("div",{staticClass:"awards__title"},[t._v(t._s(t.pageData.blocks.awards.title))]),o("div",{staticClass:"awards__list"},[t._l(t.awards,function(e){return o("a",{staticClass:"awards__list-item",attrs:{href:t.normUrl(e.url),target:"blank"}},[t._v(t._s(e.text)),e.url.length>0?o("div",{staticClass:"link-dot"}):t._e()])}),t.awardsLimit<t.pageData.blocks.awards.list.length?o("div",{staticClass:"btn_moar",on:{click:function(e){t.awardsLimit+=t.take}}},[o("div",{staticClass:"plus"}),t._v(t._s(t.viewMore))]):t._e()],2),o("div",{staticClass:"awards__img",style:{"background-image":"url("+t.pageData.blocks.awards.file+")"}})])]),o("InViewportSlot",[o("div",{staticClass:"links"},[o("div",{staticClass:"links__title"},[t._v(t._s(t.pageData.blocks.links.title))]),o("div",{staticClass:"links__list"},[t._l(t.links,function(link){return o("a",{staticClass:"links__list-item",attrs:{href:t.normUrl(link.url),target:"blank"}},[t._v(t._s(link.title)),link.url.length>0?o("div",{staticClass:"link-dot"}):t._e()])}),t.linksLimit<t.pageData.blocks.links.list.length?o("div",{staticClass:"btn_moar",on:{click:function(e){t.linksLimit+=t.take}}},[o("div",{staticClass:"plus"}),t._v(t._s(t.viewMore))]):t._e()],2)])]),o("InViewportSlot",[o("div",{staticClass:"clients"},[o("div",{staticClass:"clients__title"},[t._v(t._s(t.uiRef.clients[t.$store.state.lang]))]),o("div",{staticClass:"clients__categories"},t._l(t.pageData.blocks.clients.categories,function(e,i){return o("div",{staticClass:"clients__category",class:{clients__category_selected:t.selectedCategory==i},on:{click:function(e){return t.selectCat(i)}}},[o("div",{staticClass:"clients__category-title"},[t._v(t._s(e.name[t.$store.state.lang]))]),t._l(e.clients,function(e){return o("div",{staticClass:"clients__item"},[e.count>0?o("a",{attrs:{href:t.clientLink(e)}},[t._v(t._s(e.name[t.$store.state.lang]))]):t._e(),0==e.count?o("div",[t._v(t._s(e.name[t.$store.state.lang]))]):t._e()])})],2)}),0)])]),o("div",{staticClass:"side-projects"},[o("InViewportSlot",[o("div",{staticClass:"page__title side-projects__title"},[t._v(t._s(t.uiRef.sideProjects[t.$store.state.lang]))])]),t._l(t.pageData.blocks.side_projects,function(e,i){return o("InViewportSlot",[o("div",{staticClass:"side-project",class:"side-project_"+(i%3+1)},[o("div",{staticClass:"side-project__media"},[o("div",{staticClass:"side-project__img",style:{"background-image":"url("+e.file+")"}})]),o("a",{staticClass:"side-project__text",attrs:{href:e.url,target:"blank"}},[o("div",{staticClass:"side-project__title"},[t._v(t._s(e.title))]),o("div",{staticClass:"side-project__desc"},[t._v(t._s(e.desc))]),o("div",{staticClass:"plus"})])])])})],2)],1):t._e(),o("InViewportSlot",[o("Footer")],1)],1)},[],!1,null,null,null).exports),$={methods:{mediaType:function(t){if(!(void 0===t||t.length<4)){var e=t.substr(t.length-3).toLowerCase();return-1!==["gif","jpg","png","jpeg"].indexOf(e)?"image":-1!==["mp4","mov","avi"].indexOf(e)?"video":void 0}}}},I=Object(c.a)($,void 0,void 0,!1,null,null,null).exports,P=(o(214),Object(c.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("g",{attrs:{fill:"#000","fill-rule":"evenodd"}},[e("circle",{attrs:{cx:"18.5",cy:"3.5",r:"3.5"}}),e("circle",{attrs:{cx:"18.5",cy:"33.5",r:"3.5"}}),e("circle",{attrs:{cx:"33.5",cy:"18.5",r:"3.5"}}),e("circle",{attrs:{cx:"3.5",cy:"18.5",r:"3.5"}}),e("circle",{attrs:{cx:"29",cy:"8",r:"3.5"}}),e("circle",{attrs:{cx:"8",cy:"29",r:"3.5"}}),e("circle",{attrs:{cx:"29",cy:"29",r:"3.5"}}),e("circle",{attrs:{cx:"8",cy:"8",r:"3.5"}})])])])},[],!1,null,null,null).exports),V={mixins:[I],components:{Loader:P},props:{data:{type:Object,default:function(){return{}}},type:{type:Number,default:function(){return 1}}},data:function(){return{mediaReady:[!1,!1]}},computed:{categories:function(){return this.data.categories.map(function(i){return i.title}).join(", ")},fileTypes:function(){var t=this;return this.data.files.map(function(e){return t.mediaType(e)})},mediaStyles:function(){var t=this.mediaReady;return this.data.files.map(function(e,i){var o=0;return t[i]&&(o=1),{"background-image":"url("+e+")",opacity:o}})}},watch:{fileTypes:{handler:function(t){var e=this;t.map(function(t,i){if("image"===t){var img=new Image;img.onload=function(t){e.$set(e.mediaReady,i,!0)},img.src=e.data.files[i]}})},immediate:!0}}},O=(o(215),Object(c.a)(V,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nuxt-link",{staticClass:"work-preview",class:"work-preview"+t.type,attrs:{to:t.data.uri}},[o("div",{staticClass:"work-preview__media"},[o("div",{staticClass:"work-preview__media-item1"},[t.mediaReady[0]?t._e():o("Loader"),"image"==t.fileTypes[0]?o("div",{staticClass:"work-preview__media-img",style:t.mediaStyles[0]}):t._e(),"video"==t.fileTypes[0]?o("video",{staticClass:"work-preview__media-video",attrs:{type:"video/mp4",autoplay:"",muted:"",playsinline:"true",loop:""},domProps:{muted:!0}},[o("source",{attrs:{src:t.data.files[0]}})]):t._e()],1),o("div",{staticClass:"work-preview__media-item2"},[t.mediaReady[1]?t._e():o("Loader"),"image"==t.fileTypes[1]?o("div",{staticClass:"work-preview__media-img",style:t.mediaStyles[1]}):t._e(),"video"==t.fileTypes[1]?o("video",{staticClass:"work-preview__media-video",attrs:{type:"video/mp4",autoplay:"",muted:"",playsinline:"true",loop:""},domProps:{muted:!0}},[o("source",{attrs:{src:t.data.files[1]}})]):t._e()],1)]),t.data.categories?o("div",{staticClass:"work-preview__text"},[o("div",{staticClass:"work-preview__title"},[t._v(t._s(t.data.title))]),o("div",{staticClass:"work-preview__categories"},[t._v(t._s(t.categories))])]):t._e()])},[],!1,null,null,null).exports),T=o(170),B={name:"works",transition:"page",mixins:[T.a],components:{WorkPreview:O,Footer:x,Loader:P,InViewportSlot:C},props:{page:Number,tophid:Boolean,pageData:{type:Object,default:function(){return{}}}},data:function(){return{busy:!1,theEnd:!1,filter:{active:!1,selected:0},clientId:0,categories:[]}},computed:{selectedCategory:function(){var t=this,e=this.allWorks;return 0===this.filter.selected?e:(e=this.categories.filter(function(i){return i.id===t.filter.selected})[0]).title},nothingFound:function(){return"ru"===this.$store.state.lang?"В этой категории ничего не найдено":"Nothing found"},allWorks:function(){return"ru"===this.$store.state.lang?"Все работы":"All works"}},methods:{onScroll:function(t){if(this.$store.state.pageData.works){var e=t.target.scrollHeight-t.target.offsetHeight-150;t.target.scrollTop>=e&&this.getWorks({category_id:this.filter.selected,skip:this.$store.state.pageData.works.length,take:2}),this.$store.commit("updateProp",{scrollPos:t.target.scrollTop})}},blockType:function(i){return i<=10?i+1:i%10+1},getCategories:function(){var t=this,e=this.$store.state.apiUrl+"/categories";this.$axios.get(e,{progress:!1}).then(function(e){200!==e.status?console.log(e):t.categories=e.data.data.categories}).catch(function(t){console.log(t)})},showCategory:function(t){var e=this;this.busy||(this.busy=!0,this.theEnd=!1,this.$store.commit("updateWorks",[]),this.filter.selected=t,this.getWorksData(this.page,{category_id:t},function(data){e.$store.commit("updateWorks",data.data.works),e.busy=!1}))},showClient:function(t){var e=this;this.busy=!0,this.clientId=t,this.getWorksData(this.page,{client_id:t},function(data){e.$store.commit("updateWorks",data.data.works),e.busy=!1})},getWorks:function(t){var e=this;this.busy||this.theEnd||(this.busy=!0,this.getWorksData(this.page,{category_id:t.category_id,skip:t.skip,take:t.take,client_id:this.clientId},function(data){e.busy=!1,0!==data.data.works.length?e.$store.commit("updateWorks",e.$store.state.pageData.works.concat(data.data.works)):e.theEnd=!0}))}},mounted:function(){this.$store.commit("updateProp",{theme:"light"}),this.getCategories(),void 0!==this.$route.query.client_id&&(this.clientId=this.$route.query.client_id,this.showClient(this.clientId))}},L=(o(216),Object(c.a)(B,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page page_works",on:{scroll:t.onScroll}},[o("div",{staticClass:"work-previews"},[null==t.pageData.works||0!=t.pageData.works.length||t.busy?t._e():o("div",{staticClass:"work-previews__nothing"},[t._v(t._s(t.nothingFound))]),t._l(t.pageData.works,function(e,i){return o("InViewportSlot",[o("WorkPreview",{attrs:{type:t.blockType(i),data:e}})],1)})],2),t.busy?o("Loader"):t._e(),null!=t.pageData.works&&t.theEnd?o("Footer"):t._e(),o("div",{staticClass:"filter",class:{filter_active:t.filter.active},on:{click:function(e){t.filter.active=!1}}},[o("div",{staticClass:"filter__btn",class:{filter__btn_top:t.tophid},on:{click:function(e){e.stopPropagation(),t.filter.active=!0}}},[t._v(" "+t._s(t.selectedCategory))]),o("div",{staticClass:"filter__categories"},[o("div",{staticClass:"filter__category",on:{click:function(e){return t.showCategory(0)}}},[t._v(t._s(t.allWorks))]),t._l(t.categories,function(e,i){return o("div",{staticClass:"filter__category",on:{click:function(o){return t.showCategory(e.id)}}},[t._v(t._s(e.title))])})],2)])],1)},[],!1,null,null,null).exports),M=(o(18),o(13),o(39),{data:function(){return{visible:!1,wasVisible:!1,mediaReady:[!1,!1],opacityReady:[!1,!1]}},components:{InViewportSlot:C},props:{pageId:{type:Number,default:function(){return 1024}},blockIndex:{type:Number,default:function(){return 1024}}},watch:{"$store.state.scrollPos":function(){this.checkVisibility()},wasVisible:{handler:function(t){var e=this;t&&this.files.forEach(function(t,i){var img=new Image;img.onload=function(t){e.$set(e.mediaReady,i,!0),setTimeout(function(){e.$set(e.opacityReady,i,!0)},500)},img.src=t})},immediate:!0}},mounted:function(){this.checkVisibility()},computed:{files:function(){var t=[];return this.blockData.files&&(t=this.blockData.files.map(function(t){return t})),this.blockData.items&&(t=this.blockData.items.map(function(t){return t.files[0]})),t},items:function(){var t=this,e=this.wasVisible;return this.blockData.items.map(function(o,i){var n={};return Object.keys(o).forEach(function(r){n[r]="files"!==r?o[r]:o[r].map(function(n){if(e){var img=new Image;return img.onload=function(e){t.$set(t.mediaReady,o,!0)},img.src=n,n}return""})}),n})},mediaStyles:function(){var t=this;return this.files.map(function(e,i){var o=0,n="";return t.mediaReady[i]&&t.opacityReady[i]&&(o=1),t.mediaReady[i]&&(n=e),{"background-image":"url("+n+")",opacity:o}})}},methods:{checkVisibility:function(){var t=this.$el.clientHeight,e=this.$el.getBoundingClientRect().top,o=e+t,n=window.innerHeight,r=e>=0,l=o<=n,c=r&&!(e>n-100)||l&&!(o<0)||!r&&!l;this.visible=c,this.visible&&(this.wasVisible=!0)}}}),R=Object(c.a)(M,void 0,void 0,!1,null,null,null).exports,E={mixins:[I,R],components:{Loader:P},props:{blockData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{fileTypes:function(){return[this.mediaType(this.blockData.files[0]),this.mediaType(this.blockData.files[1])]}}},F=(o(217),Object(c.a)(E,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project-block project-block_1"},[o("InViewportSlot",[o("div",{staticClass:"project-block__media"},[o("div",{staticClass:"project-block__date"},[t._v(t._s(t.blockData.date))]),o("div",{staticClass:"project-block__media-item1"},[t.opacityReady[0]?t._e():o("Loader"),"image"==t.fileTypes[0]?o("div",{staticClass:"project-block__media-img",style:t.mediaStyles[0]}):t._e(),"video"==t.fileTypes[0]?o("video",{staticClass:"project-block__media-video",attrs:{type:"video/mp4",autoplay:"",loop:""}},[o("source",{attrs:{src:t.files[0]}})]):t._e()],1),o("div",{staticClass:"project-block__media-item2"},[t.opacityReady[1]?t._e():o("Loader"),"image"==t.fileTypes[1]?o("div",{staticClass:"project-block__media-img",style:t.mediaStyles[1]}):t._e(),"video"==t.fileTypes[1]?o("video",{staticClass:"project-block__media-video",attrs:{type:"video/mp4",autoplay:"",loop:""}},[o("source",{attrs:{src:t.files[1]}})]):t._e()],1)])]),o("InViewportSlot",[o("div",{staticClass:"project-block__text",domProps:{innerHTML:t._s(t.blockData.text)}})])],1)},[],!1,null,null,null).exports),W={mixins:[I,R],props:{blockData:{type:Object,default:function(){return{}}}},components:{DynamicBackground:f,Loader:P},data:function(){return{activeSlide:0,speed:1.3}},computed:{fileTypes:function(){return[this.mediaType(this.blockData.files[0]),this.mediaType(this.blockData.files[1])]},media:function(){return this.blockData.slider.map(function(s){return{img:s.files[0]}})}},methods:{slideClass:function(i){return i===this.activeSlide?"project-slider__item_active":i<this.activeSlide?"project-slider__item_prev":i>this.activeSlide?"project-slider__item_next":void 0},prev:function(){var p=this.activeSlide-1;p<0&&(p=this.blockData.slider.length-1),this.activeSlide=p},next:function(){var t=this.activeSlide+1;t>this.blockData.slider.length-1&&(t=0),this.activeSlide=t},touchstart:function(t){this.touchStart=t.touches[0].clientX,this.touchEventing=!0},touchend:function(t){var e=t.changedTouches[0].clientX-this.touchStart;this.touchEventing=!1,this.touchShift=0,e>100&&this.prev(),e<-100&&this.next()},touchmove:function(t){var e=t.changedTouches[0].clientX-this.touchStart;this.touchShift=e/10}}},N=(o(218),Object(c.a)(W,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project-block project-block_2"},[o("div",{staticClass:"project-slider"},t._l(t.blockData.slider,function(e,i){return o("div",{staticClass:"project-slider__item",class:t.slideClass(i)},[o("InViewportSlot",[o("div",{staticClass:"project-slider__item-title"},[t._v(t._s(e.title))]),o("div",{staticClass:"project-slider__item-text"},[t._v(t._s(e.desc))])])],1)}),0),o("InViewportSlot",[o("div",{staticClass:"project-slider__bg",on:{touchstart:function(e){return t.touchstart(e)},touchend:function(e){return t.touchend(e)},touchmove:function(e){return e.preventDefault(),t.touchmove(e)}}},[t.blockData.slider?o("DynamicBackground",{attrs:{media:t.media,active:t.activeSlide,speed:t.speed,isSlider:!0,webglId:t.pageId+"_"+t.blockIndex}}):t._e(),o("div",{staticClass:"project-slider__bg-prev",on:{click:t.prev}}),o("div",{staticClass:"project-slider__bg-next",on:{click:t.next}})],1)]),o("div",{staticClass:"bullets"},t._l(t.blockData.slider,function(e,i){return o("div",{staticClass:"bullet",class:{bullet_active:t.activeSlide==i},on:{click:function(e){t.activeSlide=i}}})}),0),o("InViewportSlot",[o("div",{staticClass:"project-block__media"},[o("div",{staticClass:"project-block__media-item1"},[t.opacityReady[0]?t._e():o("Loader"),o("div",{staticClass:"project-block__media-img",style:t.mediaStyles[0]})],1),o("div",{staticClass:"project-block__text"},[t._v(t._s(t.blockData.desc))])])])],1)},[],!1,null,null,null).exports),A={mixins:[R],props:{blockData:{type:Object,default:function(){return{}}},activeVideo:{type:Number}},data:function(){return{player:null}},computed:{videoUrl:function(){return"https://player.vimeo.com/video/"+this.blockData.vimeo}},watch:{visible:function(t){null!==this.player&&this.$emit("videovisibilitychanged",{i:this.blockIndex,visible:t})},activeVideo:function(t){null!==this.player&&(t===this.blockIndex?this.player.play():this.player.pause())}},mounted:function(){var iframe=this.$el.querySelector("iframe");this.player=new r.a(iframe)}},z=(o(219),Object(c.a)(A,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"project-block project-block_3"},[e("div",{staticClass:"project-block__media"},[e("InViewportSlot",[e("div",{staticClass:"embed-container"},[e("iframe",{attrs:{src:this.videoUrl+"?autoplay=0&loop=1&muted=1&autopause=0&background=0&title=0&byline=0&portrait=0",frameborder:"0",allowfullscreen:""}})])])],1)])},[],!1,null,null,null).exports),U={mixins:[R],components:{Loader:P},props:{blockData:{type:Object,default:function(){return{}}}},data:function(){return{}}},H=(o(220),Object(c.a)(U,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project-block project-block_4"},[o("InViewportSlot",[null!=t.items[0]?o("div",{staticClass:"project-block__text project-block__text_1"},[o("div",{staticClass:"project-block__title"},[t._v(t._s(t.items[0].title))]),o("div",{staticClass:"project-block__desc"},[t._v(t._s(t.items[0].desc))])]):t._e()]),o("InViewportSlot",[o("div",{staticClass:"project-block__media"},[null!=t.items[0]?o("div",{staticClass:"project-block__media-item1"},[t.opacityReady[0]?t._e():o("Loader"),o("div",{staticClass:"project-block__media-img",style:t.mediaStyles[0]})],1):t._e(),null!=t.items[1]?o("div",{staticClass:"project-block__media-item2"},[t.opacityReady[1]?t._e():o("Loader"),o("div",{staticClass:"project-block__media-img",style:t.mediaStyles[1]})],1):t._e()])]),o("InViewportSlot",[null!=t.items[1]?o("div",{staticClass:"project-block__text project-block__text_2"},[o("div",{staticClass:"project-block__title"},[t._v(t._s(t.items[1].title))]),o("div",{staticClass:"project-block__desc"},[t._v(t._s(t.items[1].desc))])]):t._e()])],1)},[],!1,null,null,null).exports),G={mixins:[R],props:{blockData:{type:Object,default:function(){return{}}}},data:function(){return{}}},Y=(o(221),Object(c.a)(G,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project-block project-block_5"},[o("InViewportSlot",[o("div",{staticClass:"credits"},[o("div",{staticClass:"credits__title"},[t._v("Credits")]),t._l(t.blockData.credits,function(e){return o("div",{staticClass:"credits__item"},[o("div",{staticClass:"credits__item-pos"},[t._v(t._s(e.position))]),o("div",{staticClass:"credits__item-name"},[t._v(t._s(e.name))])])})],2)])],1)},[],!1,null,null,null).exports),X={mixins:[I,R],props:{blockData:{type:Object,default:function(){return{}}}},data:function(){return{}}},J=(o(222),Object(c.a)(X,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"project-block project-block_6"},[e("InViewportSlot",[e("div",{staticClass:"project-block__text",domProps:{innerHTML:this._s(this.blockData.text)}})])],1)},[],!1,null,null,null).exports),K={mixins:[I,R],props:{blockData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{categories:function(){return void 0===this.blockData.categories?"":this.blockData.categories.map(function(t){return t.title}).join(", ")},fileType:function(){if(void 0!==this.blockData.files)return this.mediaType(this.blockData.files[0])},label:function(){return"ru"===this.$store.state.lang?"Следующий проект":"Next"}}},Q=(o(223),{watch:{pageData:function(){void 0!==this.pageData.theme&&this.$store.commit("updateProp",{theme:this.pageData.theme})}},transition:"page",components:{Block1:F,Block2:N,Block3:z,Block4:H,Block5:Y,Block6:J,BlockNext:Object(c.a)(K,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("InViewportSlot",[null!=t.blockData.uri?o("nuxt-link",{staticClass:"project-block project-block_next",attrs:{to:t.blockData.uri}},[o("div",{staticClass:"project-block__media"},[o("div",{staticClass:"big-arrow"}),o("div",{staticClass:"project-block__text"},[o("div",{staticClass:"project-block__label"},[t._v(t._s(t.label))]),o("div",{staticClass:"project-block__title"},[t._v(t._s(t.blockData.title))]),o("div",{staticClass:"project-block__desc"},[t._v(t._s(t.categories))])]),o("div",{staticClass:"project-block__media-item1"},["image"==t.fileType?o("div",{staticClass:"project-block__media-img",style:"background-image: url("+t.blockData.files[0]+")"}):t._e(),"video"==t.fileType?o("video",{staticClass:"project-block__media-video",attrs:{type:"video/mp4",autoplay:"",loop:""}},[o("source",{attrs:{src:t.blockData.files[0]}})]):t._e()])])]):t._e()],1)},[],!1,null,null,null).exports,Footer:x},props:{pageData:{type:Object,default:function(){return{}}},page:{type:Number,default:function(){return 65536}}},data:function(){return{blocks:{block_1:"Block1",block_2:"Block2",block_3:"Block3",block_4:"Block4",block_5:"Block5",block_6:"Block6"},videosInView:[]}},computed:{categories:function(){return void 0===this.pageData.categories?"":this.pageData.categories.map(function(t){return t.title}).join(", ")},activeVideo:function(){return Math.max.apply(Math,Object(n.a)(this.videosInView))}},methods:{onScroll:function(t){this.$store.commit("updateProp",{scrollPos:t.target.scrollTop})},videovisibilityhandler:function(t){if(t.visible)this.videosInView.push(t.i);else{var i=this.videosInView.indexOf(t.i);-1!==i&&this.videosInView.splice(i,1)}}},mounted:function(){this.$store.commit("updateProp",{scrollPos:0})}}),Z=(o(224),Object(c.a)(Q,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page page_project",on:{scroll:t.onScroll}},[o("div",{staticClass:"project"},[o("div",{staticClass:"page__title project__title"},[t._v(t._s(t.pageData.pagetitle))]),o("div",{staticClass:"project__categories"},[t._v(t._s(t.categories))]),t._l(t.pageData.blocks,function(e,n){return o(t.blocks[e.type],{tag:"component",attrs:{blockData:e,pageId:t.page,blockIndex:n,activeVideo:t.activeVideo},on:{videovisibilitychanged:t.videovisibilityhandler}})}),o("BlockNext",{attrs:{blockData:t.pageData.next}})],2),o("Footer")],1)},[],!1,null,null,null).exports),tt={name:"contacts",transition:"page",components:{Footer:x,InViewportSlot:C},props:{pageData:{type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){this.$store.commit("updateProp",{theme:"light"})},methods:{onScroll:function(t){this.$store.commit("updateProp",{scrollPos:t.target.scrollTop})}}},et=(o(225),Object(c.a)(tt,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page page_contacts",on:{scroll:t.onScroll}},[o("div",{staticClass:"contacts"},[o("div",{staticClass:"page__title contacts__title"},[t._v(t._s(t.pageData.title))]),o("div",{staticClass:"contacts__socials"},t._l(t.$store.state.socials,function(e){return o("a",{staticClass:"contacts__socials-item",attrs:{href:e.uri,target:"blank"}},[t._v(t._s(e.title))])}),0),o("Footer")],1),o("InViewportSlot",[o("div",{staticClass:"contacts__bottom"},[o("div",{staticClass:"contacts__text"},[t._v(t._s(t.pageData.desc))]),o("div",{staticClass:"contacts__img",style:{"background-image":"url("+t.pageData.file+")"}})])])],1)},[],!1,null,null,null).exports),it={name:"not-found",transition:"page",components:{Footer:x},props:{pageData:{type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){this.$store.commit("updateProp",{theme:"light"})},methods:{onScroll:function(t){this.$store.commit("updateProp",{scrollPos:t.target.scrollTop})}}},st=(o(226),Object(c.a)(it,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page page_404",on:{scroll:this.onScroll}},[e("div",{staticClass:"not-found"},[e("div",{staticClass:"page__title not-found__title"},[this._v(this._s(this.pageData.title))]),e("div",{staticClass:"not-found__text"},[this._v(this._s(this.pageData.desc))])]),e("Footer")],1)},[],!1,null,null,null).exports),at={transition:"page",mixins:[T.a],props:{template:Number,page:Number,tophid:Boolean,enter:Boolean,leave:Boolean},components:{Index:k,About:D,Works:L,Project:Z,Contacts:et,NotFound:st},watch:{page:function(t){this.getPageData()}},head:function(){return void 0===this.$store.state.pageData.seo?{}:{title:this.$store.state.pageData.seo.title,meta:[{hid:"description",name:"description",content:this.$store.state.pageData.seo.description}]}},data:function(){return{templates:{1:"Index",2:"About",3:"Works",4:"Contacts",5:"Project",6:"NotFound"}}},created:function(){this.getPageData()},computed:{classes:function(){var t="";return this.leave&&(t+=" page-leave-active"),this.enter&&(t+=" page-enter-active"),t}},methods:{getPageData:function(){var t=this;this.$store.state.localMode?(this.$store.commit("updateProp",{pageData:this.dummyContent(this.template)}),this.$emit("loaded")):this.getResource(this.page,this.template,function(data){t.$store.commit("updateProp",{pageData:data.data});var e="#fff";void 0!==data.data["background-color"]&&(e=data.data["background-color"],t.$store.commit("updateProp",{pageBg:e})),t.$emit("loaded")})}}},ot=(o(227),Object(c.a)(at,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dynamic-page",class:this.classes},[e(this.templates[this.template],{tag:"component",attrs:{pageData:this.$store.state.pageData,page:this.page,tophid:this.tophid}})],1)},[],!1,null,null,null));e.a=ot.exports},207:function(t,e,o){"use strict";var n=o(177);o.n(n).a},210:function(t,e,o){"use strict";var n=o(178);o.n(n).a},211:function(t,e,o){"use strict";var n=o(179);o.n(n).a},212:function(t,e,o){"use strict";var n=o(180);o.n(n).a},213:function(t,e,o){"use strict";var n=o(181);o.n(n).a},214:function(t,e,o){"use strict";var n=o(182);o.n(n).a},215:function(t,e,o){"use strict";var n=o(183);o.n(n).a},216:function(t,e,o){"use strict";var n=o(184);o.n(n).a},217:function(t,e,o){"use strict";var n=o(185);o.n(n).a},218:function(t,e,o){"use strict";var n=o(186);o.n(n).a},219:function(t,e,o){"use strict";var n=o(187);o.n(n).a},220:function(t,e,o){"use strict";var n=o(188);o.n(n).a},221:function(t,e,o){"use strict";var n=o(189);o.n(n).a},222:function(t,e,o){"use strict";var n=o(190);o.n(n).a},223:function(t,e,o){"use strict";var n=o(191);o.n(n).a},224:function(t,e,o){"use strict";var n=o(192);o.n(n).a},225:function(t,e,o){"use strict";var n=o(193);o.n(n).a},226:function(t,e,o){"use strict";var n=o(194);o.n(n).a},227:function(t,e,o){"use strict";var n=o(195);o.n(n).a}}]);